# AI Codingを極める会 - VS Code Meetup × GitHub dockyard

## プロジェクト概要

VS Code MeetupとGitHub Dockyardの合同イベント「AI Codingを極める会」の事後アンケートシステムです。
GitHub Copilot Agentを活用して、バックエンドとフロントエンドのチームに分かれて開発します。

## API仕様書

### ベースURL

```
http://localhost:3000/api
```

### エンドポイント一覧

#### 1. アンケート登録API

**POST** `/surveys`

イベント参加者のアンケート回答を登録します。

**リクエストボディ**

```json
{
  "communityAffiliation": ["VS Code Meetup", "GitHub Dockyard", "どちらでもない"],
  "jobRole": ["フロントエンドエンジニア", "バックエンドエンジニア", "フルスタックエンジニア", "DevOpsエンジニア", "データエンジニア", "モバイルエンジニア", "その他"],
  "jobRoleOther": "string",
  "eventRating": 1 | 2 | 3 | 4 | 5,
  "childcareServiceFeedback": "string"
}
```

**フィールド説明**

- `communityAffiliation`: 複数選択可能な配列形式。参加者が所属しているコミュニティを全て選択
- `jobRole`: 複数選択可能な配列形式。参加者の職種を全て選択（複数の職種を兼務している場合を考慮）
- `jobRoleOther`: `jobRole`に「その他」が含まれている場合に具体的な職種を入力（最大100文字）
- `eventRating`: 1-5の整数（1=非常に不満、5=非常に満足）
- `childcareServiceFeedback`: 任意のフィードバック（最大1000文字）

**レスポンス**

```json
{
  "success": true,
  "message": "アンケートの登録が完了しました",
  "surveyId": "string"
}
```

**エラーレスポンス**

```json
{
  "success": false,
  "error": "エラーメッセージ",
  "code": "ERROR_CODE"
}
```

#### 2. 集計結果取得API

**GET** `/surveys/results`

アンケートの集計結果を取得します。

**レスポンス**

```json
{
  "success": true,
  "data": {
    "totalResponses": 50,
    "communityAffiliation": {
      "VS Code Meetup": 20,
      "GitHub Dockyard": 15,
      "どちらでもない": 5
    },
    "jobRole": {
      "フロントエンドエンジニア": 15,
      "バックエンドエンジニア": 12,
      "フルスタックエンジニア": 8,
      "DevOpsエンジニア": 5,
      "データエンジニア": 4,
      "モバイルエンジニア": 3,
      "その他": 3
    },
    "eventRating": {
      "average": 4.2,
      "distribution": {
        "1": 1,
        "2": 2,
        "3": 8,
        "4": 20,
        "5": 19
      }
    },
    "childcareServiceFeedback": [
      {
        "id": "string",
        "feedback": "string",
        "timestamp": "2025-06-24T10:00:00Z"
      }
    ]
  }
}
```

## データスキーマ

### Survey Model

```typescript
interface Survey {
  id: string;
  communityAffiliation: (
    | "VS Code Meetup"
    | "GitHub Dockyard"
    | "どちらでもない"
  )[];
  jobRole: (
    | "フロントエンドエンジニア"
    | "バックエンドエンジニア"
    | "フルスタックエンジニア"
    | "DevOpsエンジニア"
    | "データエンジニア"
    | "モバイルエンジニア"
    | "その他"
  )[];
  jobRoleOther?: string;
  eventRating: 1 | 2 | 3 | 4 | 5;
  childcareServiceFeedback: string;
  createdAt: Date;
  updatedAt: Date;
}
```

## バリデーションルール

### 必須フィールド

- `communityAffiliation`: 必須（配列形式、1つ以上選択）
- `jobRole`: 必須（配列形式、1つ以上選択）
- `eventRating`: 必須（1-5の整数）

### オプショナルフィールド

- `jobRoleOther`: 任意（`jobRole`に「その他」が含まれている場合は必須、最大100文字）
- `childcareServiceFeedback`: 任意（最大1000文字）

## HTTPステータスコード

- `200 OK`: 正常処理
- `201 Created`: リソース作成成功
- `400 Bad Request`: リクエストが不正
- `422 Unprocessable Entity`: バリデーションエラー
- `500 Internal Server Error`: サーバーエラー

## GitHub Copilot Agent活用のポイント

1. **API仕様からのコード生成**: この仕様書を基にCopilotにコード生成を依頼
2. **テストコードの自動生成**: エンドポイントのテストケース作成
3. **エラーハンドリングの実装**: 適切なエラーレスポンスの実装
4. **UI/UXの改善提案**: フォームデザインやユーザビリティの向上

## アンケート項目の詳細説明

### 1. コミュニティ所属 (communityAffiliation)

**目的**: イベント参加者の背景を把握し、各コミュニティの影響力や参加者の重複を分析

**フロントエンド実装時の注意点**:

- チェックボックスで複数選択可能にする（両方のコミュニティに所属している場合を考慮）
- デフォルト値は設定せず、必ず1つ以上の選択を促す
- 「どちらでもない」選択時は他の選択肢と排他的になるようにする

**バックエンド実装時の注意点**:

- 配列形式のenum値の厳密なバリデーション
- 統計データの集計時に使用する重要な分類軸
- 複数選択の場合の集計ロジックを考慮

### 2. 職種 (jobRole) と その他職種詳細 (jobRoleOther)

**目的**: 参加者の技術的背景を理解し、今後のイベント企画の参考にする

**フロントエンド実装時の注意点**:

- チェックボックスで複数選択可能にする（複数の職種を兼務している場合を考慮）
- 選択肢の順序は一般的な職種から配置
- 「その他」を選択した場合のみ、テキスト入力欄を表示
- jobRoleOtherフィールドは最大100文字の制限を表示

**バックエンド実装時の注意点**:

- 配列形式の職種データのバリデーション
- 「その他」が選択されている場合、jobRoleOtherの必須チェック
- 職種別の参加傾向分析に活用

### 3. イベント評価 (eventRating)

**目的**: イベントの満足度を定量的に測定し、改善点を特定

**フロントエンド実装時の注意点**:

- 星評価（★）またはスライダーで直感的に操作可能にする
- 1=非常に不満、5=非常に満足の説明を表示

**バックエンド実装時の注意点**:

- 1-5の整数値のみ受け付ける厳密なバリデーション
- 平均値計算と分布分析に使用

### 4. 託児所サービスへのご意見 (childcareServiceFeedback)

**目的**: 子育て中の参加者に配慮したイベント運営の改善に活用

**フロントエンド実装時の注意点**:

- テキストエリアで自由記述形式
- プレースホルダーで記入例を提示
- 文字数カウンター表示（最大1000文字）

**バックエンド実装時の注意点**:

- 任意項目だが、重要なフィードバック情報として扱う
- 文字数制限とHTMLタグのサニタイズを実装

## チーム連携のポイント

### APIファーストアプローチ

1. **仕様書の共有**: この文書を両チームで参照し、実装の齟齬を防ぐ
2. **モックサーバー**: フロントエンドチームは開発初期段階でモックAPIを使用
3. **統合テスト**: 定期的に実際のAPIとフロントエンドを接続してテスト

### データフロー理解

```
[ユーザー入力] → [フロントエンド バリデーション] → [API送信] → [バックエンド バリデーション] → [DB保存]
                                                ↓
[結果表示] ← [データ可視化] ← [API取得] ← [集計処理] ← [DB読み取り]
```

### GitHub Copilot Agent活用戦略

**バックエンドでの活用**:

- API仕様書からのルーター自動生成
- データベーススキーマの作成
- バリデーション関数の実装
- エラーハンドリング関数の生成

**フロントエンドでの活用**:

- フォームコンポーネントの自動生成
- APIクライアント関数の作成
- グラフライブラリの実装コード生成
- レスポンシブCSSの最適化
